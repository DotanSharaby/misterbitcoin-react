(this["webpackJsonpmister-bitcoin"]=this["webpackJsonpmister-bitcoin"]||[]).push([[0],{42:function(e,t,n){e.exports=n(75)},47:function(e,t,n){},48:function(e,t,n){},49:function(e,t,n){},74:function(e,t,n){},75:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(23),o=n.n(c),s=(n(47),n(3)),u=n(4),i=n(6),l=n(5),m=n(7),p=(n(48),n(18)),f=n(9),h=(n(49),function(e){function t(){return Object(s.a)(this,t),Object(i.a)(this,Object(l.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return r.a.createElement("header",{className:"App-header"},r.a.createElement("nav",null,r.a.createElement(f.b,{to:"/"},"Home"),r.a.createElement("span",null," | "),r.a.createElement(f.b,{to:"/contact"},"Contacts")),r.a.createElement("h2",null,"Mister BitCoin"))}}]),t}(a.Component)),d=n(1),v=n.n(d),b=(n(55),{getRate:function(e){return v.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",.15);case 1:case"end":return e.stop()}}))},getMarketPrice:function(){return v.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}))},getConfirmedTransactions:function(){}});var g=n(8),E={signup:function(e){var t=JSON.parse(localStorage.getItem(e));t||(t=function(e){return{name:e,coins:100,transfers:[]}}(e),localStorage.setItem(t.name,JSON.stringify(t)));return localStorage.setItem("loggedinUser",JSON.stringify(t)),Promise.resolve(t)},addTransfer:function(e,t,n){return e.transfers.unshift(y(t._id,t.name,n)),e.coins-=n,C(e),Promise.resolve(e)},getLoggedinUser:function(){var e=JSON.parse(localStorage.getItem("loggedinUser"));return Promise.resolve(e)}};function y(e,t,n){return{toId:e,to:t,amount:n,at:Date.now()}}function C(e){localStorage.setItem(e.name,JSON.stringify(e)),localStorage.setItem("loggedinUser",JSON.stringify(e))}var O=function(e){return{type:"SET_USER",user:e}},j=function(){return function(e){var t;return v.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,v.a.awrap(E.getLoggedinUser());case 2:return t=n.sent,n.abrupt("return",e(O(t)));case 4:case"end":return n.stop()}}))}};function w(e){var t=e.transfers;return t.length?r.a.createElement("ul",{className:"clean-list"},t.map((function(e,t){return r.a.createElement("li",{key:t},e.to)}))):r.a.createElement(r.a.Fragment,null,r.a.createElement("h4",null,"No previous transfers"))}var x=function(e){function t(){var e,n;Object(s.a)(this,t);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(n=Object(i.a)(this,(e=Object(l.a)(t)).call.apply(e,[this].concat(r)))).state={rate:null},n}return Object(m.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){var e,t,n;return v.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,v.a.awrap(b.getRate());case 2:return e=a.sent,a.next=5,v.a.awrap(this.props.getLoggedinUser());case 5:t=a.sent,n=t.user,this.setState({rate:e,user:n}),n||this.props.history.push("/signup");case 9:case"end":return a.stop()}}),null,this)}},{key:"render",value:function(){var e=this.state,t=e.rate,n=e.user;return n?t&&r.a.createElement("div",null,r.a.createElement("h3",null,"Hi ",n.name," !"),r.a.createElement("p",null,"BitCoins: ",n.coins),r.a.createElement("h5",null,"BTC: ",t),r.a.createElement(w,{transfers:n.transfers.slice(0,3)})):r.a.createElement(r.a.Fragment,null)}}]),t}(a.Component),_={getLoggedinUser:j},S=Object(g.b)((function(e){return{}}),_)(x),T=n(19),k=n(15),L=function(e){function t(){var e,n;Object(s.a)(this,t);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(n=Object(i.a)(this,(e=Object(l.a)(t)).call.apply(e,[this].concat(r)))).state={name:null},n.update=function(e,t){var a=e.target.value;n.setState((function(e){return{name:Object(k.a)({},e.contact,Object(T.a)({},t,a))}}))},n.userSignup=function(e){return v.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return e.preventDefault(),t.next=3,v.a.awrap(n.props.signup(n.state.name));case 3:n.props.history.push("/");case 4:case"end":return t.stop()}}))},n}return Object(m.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement("div",null,r.a.createElement("form",{onSubmit:this.userSignup},r.a.createElement("h3",null,"Signup page!"),r.a.createElement("input",{type:"text",placeholder:"username",onChange:function(t){return e.update(t,"name")}})))}}]),t}(a.Component),N={signup:function(e){var t=e.name;return function(e){var n;return v.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,v.a.awrap(E.signup(t));case 2:return n=a.sent,a.abrupt("return",e(O(n)));case 4:case"end":return a.stop()}}))}}},A=Object(g.b)((function(){return{}}),N)(L);n(74);function U(e){var t=e.contact;return r.a.createElement("li",null,r.a.createElement("span",null,r.a.createElement("img",{height:"50px",src:"https://robohash.org/".concat(t.name,".png"),alt:""})),r.a.createElement("span",null,t.name))}var z=function(e){var t=e.contacts;return r.a.createElement("ul",{className:"clean-list"},t.map((function(e){return r.a.createElement(f.b,{to:"contact/".concat(e._id),key:e._id},r.a.createElement(U,{contact:e}))})))};function D(e){var t=e.handleFilter;return r.a.createElement("input",{type:"text",placeholder:" filter",onChange:function(e){return t(e.target.value)}})}var R={getContacts:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return new Promise((function(t,n){var a,r=I;e&&(a=(a=e).toLocaleLowerCase(),r=I.filter((function(e){return e.name.toLocaleLowerCase().includes(a)||e.phone.toLocaleLowerCase().includes(a)||e.email.toLocaleLowerCase().includes(a)}))),t(r.sort((function(e,t){return e.name.toLocaleLowerCase()<t.name.toLocaleLowerCase()?-1:e.name.toLocaleLowerCase()>t.name.toLocaleLowerCase()?1:0})))}))},getContactById:function(e){return new Promise((function(t,n){var a=I.find((function(t){return t._id===e}));a?t(a):n("Contact id ".concat(e," not found!"))}))},deleteContact:function(e){return new Promise((function(t,n){var a=I.findIndex((function(t){return t._id===e}));-1!==a&&I.splice(a,1),t(I)}))},saveContact:function(e){return e._id?function(e){return new Promise((function(t,n){var a=I.findIndex((function(t){return e._id===t._id}));-1!==a&&(I[a]=e),t(e)}))}(e):function(e){return new Promise((function(t,n){e._id=function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:10,t="",n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",a=0;a<e;a++)t+=n.charAt(Math.floor(Math.random()*n.length));return t}(),I.push(e),t(e)}))}(e)},getEmptyContact:function(){return{name:"",email:"",phone:""}}};var I=[{_id:"5a56640269f443a5d64b32ca",name:"Ochoa Hyde",email:"ochoahyde@renovize.com",phone:"+1 (968) 593-3824"},{_id:"5a5664025f6ae9aa24a99fde",name:"Hallie Mclean",email:"halliemclean@renovize.com",phone:"+1 (948) 464-2888"},{_id:"5a56640252d6acddd183d319",name:"Parsons Norris",email:"parsonsnorris@renovize.com",phone:"+1 (958) 502-3495"},{_id:"5a566402ed1cf349f0b47b4d",name:"Rachel Lowe",email:"rachellowe@renovize.com",phone:"+1 (911) 475-2312"},{_id:"5a566402abce24c6bfe4699d",name:"Dominique Soto",email:"dominiquesoto@renovize.com",phone:"+1 (807) 551-3258"},{_id:"5a566402a6499c1d4da9220a",name:"Shana Pope",email:"shanapope@renovize.com",phone:"+1 (970) 527-3082"},{_id:"5a566402f90ae30e97f990db",name:"Faulkner Flores",email:"faulknerflores@renovize.com",phone:"+1 (952) 501-2678"},{_id:"5a5664027bae84ef280ffbdf",name:"Holder Bean",email:"holderbean@renovize.com",phone:"+1 (989) 503-2663"},{_id:"5a566402e3b846c5f6aec652",name:"Rosanne Shelton",email:"rosanneshelton@renovize.com",phone:"+1 (968) 454-3851"},{_id:"5a56640272c7dcdf59c3d411",name:"Pamela Nolan",email:"pamelanolan@renovize.com",phone:"+1 (986) 545-2166"},{_id:"5a5664029a8dd82a6178b15f",name:"Roy Cantu",email:"roycantu@renovize.com",phone:"+1 (929) 571-2295"},{_id:"5a5664028c096d08eeb13a8a",name:"Ollie Christian",email:"olliechristian@renovize.com",phone:"+1 (977) 419-3550"},{_id:"5a5664026c53582bb9ebe9d1",name:"Nguyen Walls",email:"nguyenwalls@renovize.com",phone:"+1 (963) 471-3181"},{_id:"5a56640298ab77236845b82b",name:"Glenna Santana",email:"glennasantana@renovize.com",phone:"+1 (860) 467-2376"},{_id:"5a56640208fba3e8ecb97305",name:"Malone Clark",email:"maloneclark@renovize.com",phone:"+1 (818) 565-2557"},{_id:"5a566402abb3146207bc4ec5",name:"Floyd Rutledge",email:"floydrutledge@renovize.com",phone:"+1 (807) 597-3629"},{_id:"5a56640298500fead8cb1ee5",name:"Grace James",email:"gracejames@renovize.com",phone:"+1 (959) 525-2529"},{_id:"5a56640243427b8f8445231e",name:"Tanner Gates",email:"tannergates@renovize.com",phone:"+1 (978) 591-2291"},{_id:"5a5664025c3abdad6f5e098c",name:"Lilly Conner",email:"lillyconner@renovize.com",phone:"+1 (842) 587-3812"}];window.contacts=I;var P=function(e){return{type:"UPDATE_CONTACT",contact:e}},B=function(e){return{type:"ADD_CONTACT",contact:e}},F=function(e){return{type:"SET_CONTACTS",contacts:e}},M=function(e){return{type:"SET_CURR_CONTACT",contact:e}},J=function(e){function t(){var e,n;Object(s.a)(this,t);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(n=Object(i.a)(this,(e=Object(l.a)(t)).call.apply(e,[this].concat(r)))).state={term:"",filteredContacts:null},n.handleFilter=function(e){n.setState({term:e})},n.filterContacts=function(){var e,t,a;return v.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:return e=n.state.term,r.next=3,v.a.awrap(n.props.getContacts(e));case 3:return t=r.sent,a=t.contacts,r.abrupt("return",a);case 6:case"end":return r.stop()}}))},n}return Object(m.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){var e,t;return v.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,v.a.awrap(this.filterContacts());case 2:return e=n.sent,this.setState({filteredContacts:e}),n.next=6,v.a.awrap(this.props.getLoggedinUser());case 6:t=n.sent,t.user||this.props.history.push("/signup");case 9:case"end":return n.stop()}}),null,this)}},{key:"componentDidUpdate",value:function(e,t){var n;return v.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.term!==this.state.term){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,v.a.awrap(this.filterContacts());case 4:n=e.sent,this.setState({filteredContacts:n});case 6:case"end":return e.stop()}}),null,this)}},{key:"render",value:function(){var e,t=this.state.filteredContacts,n=this.props.contacts;return e=t||n,r.a.createElement(r.a.Fragment,null,r.a.createElement(f.b,{to:"/contact/edit"},"Add Contact"),r.a.createElement("span",null," | "),r.a.createElement(D,{handleFilter:this.handleFilter}),r.a.createElement(z,{contacts:e}))}}]),t}(a.Component),H={getContacts:function(e){return function(t){var n;return v.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,v.a.awrap(R.getContacts(e));case 2:return n=a.sent,a.abrupt("return",t(F(n)));case 4:case"end":return a.stop()}}))}},getLoggedinUser:j},W=Object(g.b)((function(e){return{contacts:e.contactReducer.contacts}}),H)(J),G=function(e){function t(){var e,n;Object(s.a)(this,t);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(n=Object(i.a)(this,(e=Object(l.a)(t)).call.apply(e,[this].concat(r)))).state={amount:null},n.update=function(e){var t=e.target.value;n.setState({amount:t})},n}return Object(m.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this,t=this.props,n=t.user,a=t.transfer,c=this.state.amount;if(n)return r.a.createElement("form",{onSubmit:function(e){return a(e,c)}},r.a.createElement("label",null,"Transer BitCoin",r.a.createElement("input",{type:"number",max:n.coins,min:"0",onChange:function(t){return e.update(t)}})),r.a.createElement("button",null,"Transfer"))}}]),t}(a.Component),q=function(e){function t(){var e,n;Object(s.a)(this,t);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(n=Object(i.a)(this,(e=Object(l.a)(t)).call.apply(e,[this].concat(r)))).state={contact:null,amount:null,transfers:[]},n.transfer=function(e,t){var a,r,c;return v.a.async((function(o){for(;;)switch(o.prev=o.next){case 0:return e.preventDefault(),a=n.state,r=a.user,c=a.contact,o.next=4,v.a.awrap(n.props.makeTransfer(r,c,t));case 4:n.props.history.push("/");case 5:case"end":return o.stop()}}))},n.filterTransfers=function(e,t){var a=e.transfers.filter((function(e){return e.toId===t._id}));a=a.slice(0,3),n.setState({transfers:a})},n}return Object(m.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){var e,t,n,a;return v.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:return e=this.props.match.params.id,r.next=3,v.a.awrap(R.getContactById(e));case 3:return(t=r.sent)&&this.setState({contact:t}),r.next=7,v.a.awrap(this.props.getLoggedinUser());case 7:n=r.sent,a=n.user,this.setState({user:a}),a||this.props.history.push("/signup"),this.filterTransfers(a,t);case 12:case"end":return r.stop()}}),null,this)}},{key:"render",value:function(){var e=this.state,t=e.contact,n=e.transfers,a=this.props.user;return t?r.a.createElement("section",{className:"contact-details"},r.a.createElement("h3",null,t.name),r.a.createElement("img",{src:"https://robohash.org/".concat(t.name,".png"),alt:"User"}),r.a.createElement("h5",null,t.email),r.a.createElement("h5",null,t.phone),r.a.createElement(G,{transfer:this.transfer,user:a}),r.a.createElement(f.b,{to:"/contact"},r.a.createElement("button",null,"Back")),r.a.createElement(f.b,{to:"/contact/edit/"+t._id},"Edit"),r.a.createElement(w,{transfers:n})):r.a.createElement("div",null,r.a.createElement("h1",null,"No contact was found"))}}]),t}(a.Component),K={getLoggedinUser:j,makeTransfer:function(e,t,n){return function(a){var r;return v.a.async((function(c){for(;;)switch(c.prev=c.next){case 0:return c.next=2,v.a.awrap(E.addTransfer(e,t,n));case 2:return r=c.sent,c.abrupt("return",a(O(r)));case 4:case"end":return c.stop()}}))}}},Q=Object(g.b)((function(e){return{user:e.userReducer.user}}),K)(q),V=function(e){function t(){var e,n;Object(s.a)(this,t);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(n=Object(i.a)(this,(e=Object(l.a)(t)).call.apply(e,[this].concat(r)))).state={contact:R.getEmptyContact()},n.update=function(e,t){var a=e.target.value;n.setState((function(e){return{contact:Object(k.a)({},e.contact,Object(T.a)({},t,a))}}))},n.save=function(e){return v.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return e.preventDefault(),t.next=3,v.a.awrap(n.props.saveContact(n.state.contact));case 3:n.props.history.push("/contact");case 4:case"end":return t.stop()}}))},n}return Object(m.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){var e=this.props.currContact;e&&this.setState({contact:e})}},{key:"render",value:function(){var e=this,t=this.state.contact;return r.a.createElement(r.a.Fragment,null,r.a.createElement("form",{onSubmit:this.save},r.a.createElement("label",null,"Name:",r.a.createElement("input",{type:"text",value:t.name,onChange:function(t){return e.update(t,"name")}})),r.a.createElement("br",null),r.a.createElement("label",null,"email:",r.a.createElement("input",{type:"email",value:t.email,onChange:function(t){return e.update(t,"email")}})),r.a.createElement("br",null),r.a.createElement("label",null,"phone:",r.a.createElement("input",{type:"tel",value:t.phone,onChange:function(t){return e.update(t,"phone")}})),r.a.createElement("br",null),r.a.createElement("button",null,"Save")),r.a.createElement(f.b,{to:"/contact"},r.a.createElement("button",null,"Back")))}}]),t}(a.Component),X={saveContact:function(e){var t=e._id;return function(n){var a;return v.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,v.a.awrap(R.saveContact(e));case 2:if(a=r.sent,!t){r.next=7;break}return r.abrupt("return",n(P(a)));case 7:return r.abrupt("return",n(B(a)));case 8:case"end":return r.stop()}}))}}},Y=Object(g.b)((function(e){return{}}),X)(V),Z=function(e){function t(){return Object(s.a)(this,t),Object(i.a)(this,Object(l.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){var e;return v.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:if(!(e=this.props.match.params.id)){t.next=4;break}return t.next=4,v.a.awrap(this.props.loadCurrContact(e));case 4:case"end":return t.stop()}}),null,this)}},{key:"componentWillUnmount",value:function(){this.props.setCurrContact(null)}},{key:"render",value:function(){var e=this.props,t=e.currContact,n=e.history;return t?r.a.createElement("div",null,r.a.createElement("h3",null,"Edit Contact"),r.a.createElement(Y,{currContact:t,history:n}),r.a.createElement("button",null,"Delete")):r.a.createElement("section",{className:"contact-edit"},r.a.createElement("h3",null,"Add Contact"),r.a.createElement(Y,{history:n}))}}]),t}(a.Component),$={loadCurrContact:function(e){return function(t){var n;return v.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,v.a.awrap(R.getContactById(e));case 2:return n=a.sent,a.abrupt("return",t(M(n)));case 4:case"end":return a.stop()}}))}},setCurrContact:M},ee=Object(g.b)((function(e){return{currContact:e.contactReducer.currContact}}),$)(Z),te=function(e){function t(){return Object(s.a)(this,t),Object(i.a)(this,Object(l.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"App"},r.a.createElement(h,null),r.a.createElement(p.c,null,r.a.createElement(p.a,{exact:!0,path:"/",component:S}),r.a.createElement(p.a,{exact:!0,path:"/signup",component:A}),r.a.createElement(p.a,{exact:!0,path:"/contact",component:W}),r.a.createElement(p.a,{exact:!0,path:"/contact/edit/:id?",component:ee}),r.a.createElement(p.a,{exact:!0,path:"/contact/:id",component:Q})))}}]),t}(r.a.Component),ne=Object(g.b)((function(e){return{}}),{})(te);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var ae=n(20),re=n(41),ce=n(22),oe={contacts:[],currContact:null};var se={user:{}};var ue=Object(ae.c)({contactReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:oe,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_CURR_CONTACT":return Object(k.a)({},e,{currContact:t.contact});case"SET_CONTACTS":return Object(k.a)({},e,{contacts:t.contacts});case"ADD_CONTACT":return Object(k.a)({},e,{contacts:[].concat(Object(ce.a)(e.contacts),[t.contact])});case"DELETE_CONTACT":return Object(k.a)({},e,{contacts:Object(ce.a)(e.contacts.filter((function(e){return t.contact._id!==e._id})))});case"UPDATE_CONTACT":var n=e.contacts.findIndex((function(e){return e._id===t.contact._id}));return Object(k.a)({},e,{contacts:[].concat(Object(ce.a)(e.contacts.slice(0,n)),[t.contact],Object(ce.a)(e.contacts.slice(n+1)))});default:return e}},userReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:se,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_USER":return Object(k.a)({},e,{user:t.user});default:return e}}}),ie=Object(ae.d)(ue,Object(ae.a)(re.a)),le=n(11),me=Object(le.a)();o.a.render(r.a.createElement(g.a,{store:ie},r.a.createElement(f.a,{history:me},r.a.createElement(ne,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[42,1,2]]]);
//# sourceMappingURL=main.38a1ab3e.chunk.js.map